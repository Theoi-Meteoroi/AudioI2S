#pragma once

#define ARM_MATH_CM0PLUS
#include <arm_math.h>

///// Circuit:
/*
 * Arduino/Genuino Zero, MKRZero or MKR1000 board
 * ICS43432:
   * GND connected GND
   * 3.3V connected 3.3V (Zero) or VCC (MKR1000, MKRZero)
   * WS connected to pin 0 (Zero) or pin 3 (MKR1000, MKRZero)
   * CLK connected to pin 1 (Zero) or pin 2 (MKR1000, MKRZero)
   * SD connected to pin 9 (Zero) or pin A6 (MKR1000, MKRZero)
*/

///// MICROPHONE PROPERTIES (INVENSENSE)

const int BIT_LENGTH = 24;
const int FULL_SCALE_DBSPL = 120; // FULL SCALE dBSPL (AOP = 116dB SPL)
const double FULL_SCALE_DBFS = 20*log10(pow(2,(BIT_LENGTH)));
const double RMS_HANN = 0.61177;
const int CONST_FACTOR = 64;

///// WEIGHTING TABLES

//Table for 44100Hz and 256 fftSize

  #define WEIGHTINGTA_44100Hz_256 {0,0.0862538915555343,0.239252440067295,0.381499718566378,0.506174881840981,0.613491046469462,0.704657091342527,0.781358835632495,0.845492532387227,0.898943803532723,0.943446758613464,0.980518052821849,1.011442168756,1.03728522618051,1.05892148026641,1.07706317893995,1.09228900743996,1.10506909425038,1.11578603774419,1.12475213161783,1.13222326008119,1.13841000815891,1.14348650518794,1.14759745249792,1.15086370996276,1.15338674443019,1.15525218115916,1.15653264835139,1.15729006385055,1.15757748064798,1.15744058242197,1.15691890053426,1.15604680851176,1.15485433808098,1.15336785152296,1.15161059787385,1.14960317484241,1.14736391388858,1.144909202431,1.14225375441076,1.13941083827188,1.13639246969807,1.13320957507457,1.12987213054712,1.12638928067012,1.12276943992611,1.1190203798254,1.11514930382876,1.11116291195666,1.10706745663856,1.10286879110129,1.09857241138616,1.09418349291168,1.08970692235556,1.08514732551056,1.08050909166977,1.07579639501394,1.0710132134039,1.06616334492279,1.0612504224636,1.05627792661571,1.05124919706901,1.04616744272406,1.04103575067143,1.03585709418121,1.03063433982534,1.02537025383928,1.02006750781565,1.0147286838109,1.00935627893557,1.00395270948995,0.998520314699319,0.99306136009617,0.987578040591138,0.982072483269213,0.976546749943447,0.971002839494508,0.965442690021033,0.959868180822797,0.954281134236092,0.948683317338438,0.943076443537719,0.937462174059082,0.931842119341346,0.92621784035331,0.920590849839106,0.914962613500672,0.909334551124467,0.903708037658683,0.898084404246482,0.892464939220101,0.886850889060089,0.881243459323409,0.875643815543675,0.870053084106385,0.864472353101651,0.858902673156583,0.853345058249221,0.847800486505647,0.842269900981679,0.836754210430351,0.83125429005623,0.825770982257424,0.820305097356057,0.814857414317805,0.809428681461038,0.804019617155993,0.79863091051432,0.793263222069304,0.787917184446967,0.782593403028247,0.777292456602357,0.772014898011446,0.766761254786601,0.761532029775251,0.756327701759963,0.751148726068651,0.745995535176175,0.740868539297297,0.735768126970984,0.730694665635993,0.725648502197718,0.720629963586252,0.715639357305606,0.710676971974081,0.705743077855713,0.700837927382786,0.695961755669379,0.691114781015906,0.686297205404659,0.681509214986311,0.676750980557397,0.672022658028753,0.667324388884942,0.662656300634656,0.658018507252134,0.653411109609613,0.648834195900849,0.644287842055744,0.639772112146134,0.635287058782778,0.63083272350362,0.626409137153377,0.622016320254532,0.617654283369795,0.613323027456127,0.609022544210399,0.60475281640678,0.600513818225947,0.596305515576211,0.592127866406669,0.587980821012465,0.583864322332297,0.579778306238247,0.575722701818072,0.571697431650051,0.567702412070528,0.563737553434233,0.559802760367541,0.555897932014755,0.552022962277563,0.54817774004777,0.544362149433441,0.540576069978573,0.536819376876427,0.533091941176635,0.529393629986214,0.52572430666461,0.522083831012889,0.518472059457211,0.5148888452267,0.511334038525829,0.507807486701459,0.504309034404633,0.500838523747253,0.497395794453758,0.493980684007924,0.490593027794891,0.487232659238545,0.483899409934353,0.480593109777784,0.477313587088399,0.474060668729743,0.470834180225132,0.467633945869448,0.464459788837038,0.461311531285828,0.45818899445774,0.455091998775533,0.45202036393613,0.448973909000568,0.445952452480626,0.442955812422246,0.439983806485832,0.437036252023507,0.434112966153428,0.431213765831224,0.428338467918663,0.42548688924961,0.422658846693364,0.419854157215444,0.417072637935918,0.41431410618532,0.411578379558249,0.408865275964721,0.406174613679325,0.403506211388266,0.400859888234358,0.398235463860026,0.395632758448378,0.39305159276242,0.390491788182462,0.387953166741769,0.385435551160528,0.382938764878175,0.380462632084138,0.378006977747047,0.375571627642463,0.373156408379176,0.370761147424114,0.368385673125924,0.366029814737245,0.363693402435748,0.36137626734396,0.359078241547929,0.356799158114758,0.354538851109067,0.352297155608395,0.350073907717599,0.347868944582282,0.345682104401278,0.343513226438233,0.341362151032316,0.339228719608089,0.337112774684568,0.335014159883506,0.332932719936925,0.330868300693929,0.32882074912682,0.326789913336546,0.324775642557513,0.322777787161772,0.32079619866262,0.318830729717626,0.316881234131118,0.314947566856136,0.313029583995888,0.31112714280472,0.309240101688628,0.307368320205317,0.305511659063845,0.303669980123854,0.301843146394414,0.30003102203249,0.298233472341061,0.29645036376689,0.294681563897973}
//To be applied in the non-DB spectrum
const double WEIGHTINGTAB[] = WEIGHTINGTA_44100Hz_256;

///// HANN WINDOW

  #define HANN_WINDOW_512 {0,0.0000377965772740962,0.000151180594771427,0.000340134910380874,0.000604630956796859,0.000944628745838338,0.00136007687449447,0.00185091253269609,0.00241706151281168,0.00305843822086654,0.00377494568948339,0.00456647559254264,0.00543290826155973,0.0063741127037773,0.00738994662196968,0.00848025643595607,0.00964487730581998,0.0108836331568305,0.0121963367060627,0.0135827894907121,0.0150427818980994,0.0165760931973613,0.0181824915728215,0.019861734159039,0.0216135670775249,0.0234377254751261,0.0253339335640674,0.0273019046636466,0.0293413412435765,0.0314519349689681,0.033633366746946,0.0358853067748912,0.0382074145903025,0.0405993391222701,0.0430607187445522,0.0455911813302485,0.0481903443080604,0.0508578147201305,0.0535931892814526,0.0563960544408427,0.0592659864434626,0.0622025513948853,0.0652053053266945,0.0682737942636061,0.0714075542921032,0.0746061116305735,0.0778689827009385,0.0811956742017641,0.0845856831828408,0.0880384971212229,0.091553593998715,0.0951304423807943,0.0987685014969555,0.102467221322468,0.106226042661535,0.110044397231829,0.113921707750418,0.117857388021034,0.121850843022703,0.125901468999704,0.130008653552846,0.134171775732054,0.138390206130252,0.14266330697852,0.146990432242509,0.151370927720124,0.15580413114042,0.160289372263735,0.164825972983019,0.169413247426352,0.174050502060644,0.17873703579648,0.183472140094124,0.188255099070633,0.193085189608094,0.197961681462944,0.20288383737638,0.207850913185816,0.212862157937393,0.217916813999513,0.223014117177383,0.228153296828549,0.233333575979408,0.238554171442674,0.243814293935788,0.249113148200246,0.254449933121827,0.259823841851719,0.265234061928494,0.270679775400948,0.276160158951759,0.281674384021968,0.287221616936238,0.292801019028898,0.29841174677074,0.304052951896545,0.309723781533331,0.315423378329296,0.321150880583437,0.326905422375828,0.332686133698534,0.338492140587147,0.344322565252915,0.350176526215451,0.356053138436005,0.361951513451266,0.367870759507683,0.373809981696295,0.379768282088018,0.385744759869409,0.391738511478851,0.397748630743159,0.403774209014585,0.40981433530819,0.415868096439573,0.421934577162933,0.42801286030944,0.434102026925899,0.440201156413684,0.446309326667918,0.452425614216887,0.45854909436165,0.464678841315845,0.470813928345655,0.476953427909915,0.483096411800347,0.489241951281889,0.49538911723311,0.501536980286678,0.507684610969869,0.513831079845091,0.5199754576504,0.526116815439995,0.532254224724658,0.538386757612132,0.544513486947405,0.550633486452881,0.556745830868423,0.56284959609124,0.568943859315595,0.575027699172326,0.581100195868139,0.587160431324672,0.593207489317293,0.599240455613625,0.605258418111759,0.611260466978157,0.617245694785205,0.623213196648401,0.629162070363163,0.635091416541232,0.641000338746643,0.646887943631258,0.652753341069825,0.658595644294553,0.664413970029181,0.670207438622517,0.675975174181427,0.68171630470326,0.687429962207682,0.693115282867903,0.698771407141278,0.704397479899253,0.709992650556653,0.715556073200279,0.721086906716794,0.726584314919893,0.73204746667672,0.737475536033525,0.742867702340536,0.748223150376032,0.75354107046959,0.7588206586245,0.764061116639314,0.769261652228528,0.774421479142359,0.779539817285623,0.784615892835666,0.789648938359361,0.794638192929131,0.799582902237994,0.804482318713598,0.809335701631252,0.814142317225904,0.818901438803083,0.823612346848765,0.828274329138148,0.832886680843338,0.837448704639903,0.841959710812305,0.84641901735817,0.850825950091399,0.855179842744098,0.859480037067308,0.86372588293052,0.867916738419968,0.87205196993568,0.876130952287265,0.880153068788438,0.884117711350248,0.888024280573021,0.891872185836974,0.895660845391512,0.899389686443183,0.903058145242268,0.906665667168023,0.910211706812523,0.913695728063121,0.917117204183505,0.920475617893327,0.923770461446416,0.927001236707534,0.930167455227694,0.933268638318005,0.936304317122042,0.93927403268673,0.942177336031735,0.945013788217338,0.947782960410804,0.95048443395121,0.95311780041274,0.955682661666441,0.958178629940404,0.960605327878401,0.962962388596925,0.965249455740667,0.967466183536386,0.969612236845188,0.971687291213196,0.973691032920597,0.97562315902908,0.977483377427628,0.979271406876687,0.980986977050686,0.9826298285789,0.984199713084672,0.985696393222957,0.987119642716209,0.988469246388591,0.989745000198504,0.990946711269438,0.992074197919133,0.993127289687043,0.99410582736011,0.995009662996835,0.995838659949645,0.99659269288555,0.997271647805093,0.997875422059586,0.998403924366628,0.998857074823906,0.999234804921275,0.999537057551115,0.999763787016967,0.99991495904044,0.999990550766393,0.999990550766393,0.99991495904044,0.999763787016967,0.999537057551115,0.999234804921275,0.998857074823906,0.998403924366628,0.997875422059586,0.997271647805093,0.99659269288555,0.995838659949645,0.995009662996835,0.99410582736011,0.993127289687043,0.992074197919133,0.990946711269438,0.989745000198504,0.988469246388591,0.987119642716209,0.985696393222957,0.984199713084672,0.9826298285789,0.980986977050686,0.979271406876687,0.977483377427628,0.97562315902908,0.973691032920598,0.971687291213196,0.969612236845189,0.967466183536386,0.965249455740667,0.962962388596925,0.960605327878401,0.958178629940405,0.955682661666441,0.95311780041274,0.95048443395121,0.947782960410804,0.945013788217338,0.942177336031735,0.93927403268673,0.936304317122042,0.933268638318005,0.930167455227694,0.927001236707534,0.923770461446416,0.920475617893328,0.917117204183505,0.913695728063121,0.910211706812523,0.906665667168023,0.903058145242268,0.899389686443183,0.895660845391512,0.891872185836974,0.888024280573021,0.884117711350248,0.880153068788438,0.876130952287266,0.87205196993568,0.867916738419968,0.86372588293052,0.859480037067308,0.855179842744099,0.850825950091399,0.84641901735817,0.841959710812305,0.837448704639903,0.832886680843338,0.828274329138148,0.823612346848765,0.818901438803083,0.814142317225904,0.809335701631252,0.804482318713599,0.799582902237994,0.794638192929131,0.789648938359361,0.784615892835666,0.779539817285623,0.77442147914236,0.769261652228528,0.764061116639314,0.7588206586245,0.753541070469591,0.748223150376032,0.742867702340537,0.737475536033525,0.73204746667672,0.726584314919893,0.721086906716794,0.715556073200279,0.709992650556654,0.704397479899253,0.698771407141278,0.693115282867903,0.687429962207682,0.681716304703259,0.675975174181427,0.670207438622517,0.664413970029181,0.658595644294553,0.652753341069825,0.646887943631258,0.641000338746643,0.635091416541232,0.629162070363163,0.6232131966484,0.617245694785205,0.611260466978157,0.605258418111759,0.599240455613625,0.593207489317293,0.587160431324672,0.581100195868139,0.575027699172326,0.568943859315596,0.56284959609124,0.556745830868423,0.550633486452881,0.544513486947404,0.538386757612132,0.532254224724658,0.526116815439995,0.5199754576504,0.513831079845091,0.507684610969869,0.501536980286678,0.49538911723311,0.489241951281889,0.483096411800347,0.476953427909915,0.470813928345655,0.464678841315845,0.45854909436165,0.452425614216887,0.446309326667919,0.440201156413684,0.434102026925899,0.42801286030944,0.421934577162933,0.415868096439574,0.40981433530819,0.403774209014585,0.397748630743159,0.391738511478851,0.385744759869409,0.379768282088018,0.373809981696295,0.367870759507684,0.361951513451266,0.356053138436005,0.350176526215452,0.344322565252915,0.338492140587147,0.332686133698534,0.326905422375828,0.321150880583437,0.315423378329297,0.309723781533332,0.304052951896545,0.29841174677074,0.292801019028898,0.287221616936238,0.281674384021968,0.276160158951759,0.270679775400947,0.265234061928494,0.259823841851719,0.254449933121828,0.249113148200245,0.243814293935788,0.238554171442674,0.233333575979408,0.228153296828549,0.223014117177384,0.217916813999514,0.212862157937393,0.207850913185816,0.20288383737638,0.197961681462944,0.193085189608094,0.188255099070633,0.183472140094124,0.17873703579648,0.174050502060644,0.169413247426353,0.164825972983019,0.160289372263735,0.15580413114042,0.151370927720124,0.146990432242509,0.14266330697852,0.138390206130252,0.134171775732054,0.130008653552846,0.125901468999704,0.121850843022703,0.117857388021034,0.113921707750418,0.11004439723183,0.106226042661535,0.102467221322469,0.0987685014969556,0.0951304423807942,0.091553593998715,0.0880384971212229,0.0845856831828409,0.0811956742017641,0.0778689827009387,0.0746061116305735,0.0714075542921033,0.068273794263606,0.0652053053266948,0.0622025513948854,0.0592659864434625,0.0563960544408427,0.0535931892814527,0.0508578147201306,0.0481903443080604,0.0455911813302486,0.0430607187445523,0.0405993391222702,0.0382074145903025,0.0358853067748913,0.0336333667469461,0.031451934968968,0.0293413412435765,0.0273019046636465,0.0253339335640675,0.0234377254751261,0.0216135670775249,0.0198617341590389,0.0181824915728217,0.0165760931973613,0.0150427818980994,0.0135827894907122,0.0121963367060628,0.0108836331568306,0.00964487730581992,0.00848025643595618,0.00738994662196968,0.00637411270377736,0.00543290826155973,0.00456647559254275,0.00377494568948344,0.00305843822086654,0.00241706151281168,0.00185091253269615,0.00136007687449447,0.000944628745838338,0.000604630956796859,0.000340134910380874,0.000151180594771427,0.0000377965772740962,0}

//Table 512 bufferSize
const double HANN[] = HANN_WINDOW_512;

///// EQUALIZER

  #define EQUALIZER_256 {1.00055558830634,1.00055558830634,1.00055558830634,1.26311772157691,1.26311772157691,1.26311772157691,1.23935047273031,1.23935047273031,1.23935047273031,1.27813189013084,1.27813189013084,1.27813189013084,1.30888676144959,1.30888676144959,1.30888676144959,1.34982514709464,1.34982514709464,1.34982514709464,1.50872106087913,1.50872106087913,1.50872106087913,1.63648667016512,1.63648667016512,1.63648667016512,1.9205764154514,1.9205764154514,1.9205764154514,2.30601690238367,2.30601690238367,2.30601690238367,2.48313310529557,2.49746838915414,2.49746838915414,2.67608559319933,2.7214093232028,2.7214093232028,2.71956848609892,2.71956848609892,2.71956848609892,2.78137725537687,2.81054977149375,2.83850905262673,2.86521296834092,2.89062100475819,2.91469436684605,2.9373960770238,2.95869106973541,2.97854628165103,2.99693073717236,3.01381562893261,3.02917439299833,3.04298277849824,3.05521891142387,3.06586335236679,3.07489914797942,3.08231187596854,3.08808968345442,3.09222331855278,3.09470615506176,3.09553421016174,3.09470615506176,3.09222331855278,3.08808968345442,3.08231187596854,3.07489914797942,3.08891596817531,3.07901512657619,3.09222331855278,3.07983898320448,3.09222331855278,3.10465745253109,3.11714158538459,3.12967591816369,3.14226065272722,3.1548959917457,3.13554250975987,3.11464074926508,3.09222331855278,3.10216663224483,3.11214191952902,3.12214928321921,3.13218882645989,3.10465745253109,3.11380758316775,3.12298468131755,3.09222331855278,3.1005071956796,3.10881326480653,3.11714158538459,3.12549221702406,3.13386521949491,3.14226065272722,3.15067857681163,3.15911905199975,3.17606789750112,3.17606789750112,3.24805567384253,3.24805567384253,3.24805567384253,3.18556281129451,3.18556281129451,3.18556281129451,3.11444494876854,3.11444494876854,3.11444494876854,3.494272830417,3.494272830417,3.494272830417,4.17567236193701,4.17567236193701,4.17567236193701,4.91177895349196,4.91177895349196,4.91177895349196,5.01702210863056,5.01702210863056,5.01702210863056,5.76631086264975,5.76631086264975,5.76631086264975,6.15525689892094,6.15525689892094,6.15525689892094,6.47489143062415,6.47489143062415,6.47489143062415,6.15168290023329,6.15168290023329,6.15168290023329,6.48764506910093,6.48764506910093,6.48764506910093,6.37051643858751,6.37051643858751,6.37051643858751,5.32349121247045,5.32349121247045,5.32349121247045,5.55849228657028,5.55849228657028,5.55849228657028,4.96840833204947,4.96840833204947,4.96840833204947,4.61347090193838,4.61347090193838,4.61347090193838,4.36849574315519,4.36849574315519,4.36849574315519,4.16929411958828,4.16929411958828,4.16929411958828,3.97805003449124,3.97805003449124,3.97805003449124,3.69933092400896,3.69933092400896,3.69933092400896,3.44223896219172,3.44223896219172,3.44223896219172,3.11390598828773,3.11390598828773,3.11390598828773,2.89731059200513,2.89731059200513,2.89731059200513,2.40178799286769,2.40178799286769,2.40178799286769,2.01989577237399,2.01989577237399,2.01989577237399,1.89321803449434,1.89321803449434,1.89321803449434,2.12786854517727,2.12786854517727,2.12786854517727,2.09627337121202,2.09627337121202,2.09627337121202,2.10383604816198,2.10383604816198,2.10383604816198,2.39312249770396,2.39312249770396,2.39312249770396,2.48745717051105,2.48745717051105,2.48745717051105,2.28828636312718,2.28828636312718,2.28828636312718,2.18901262416899,2.18901262416899,2.18901262416899,2.03678949129076,2.03678949129076,2.03678949129076,1.94468206372203,1.94468206372203,1.94468206372203,2.01000384729899,2.01000384729899,2.01000384729899,1.95610860341622,1.95610860341622,1.95610860341622,2.06708020801029,2.06708020801029,2.06708020801029,2.1539538260373,2.1539538260373,2.1539538260373,2.20834930374461,2.20834930374461,2.20834930374461,2.49240100850584,2.49240100850584,2.49240100850584,2.73724311413788,2.73724311413788,2.73724311413788,2.77082364577565,2.77082364577565,2.77082364577565,2.88283495134956,2.88283495134956,2.88283495134956,3.02544348343732,3.02544348343732,3.02544348343732,3.16103513124308,3.16103513124308,3.16103513124308,3.21245619070415,3.21245619070415,3.21245619070415,3.48925550704894,3.48925550704894,3.48925550704894,3.66447058329304,3.66447058329304,3.66447058329304,3.77505933612704,3.77505933612704,3.77505933612704,4.02145823649982,4.02145823649982,4.02145823649982,4.45882768322875,4.45882768322875,4.45882768322875,4.45882768322875}

//Table 512 bufferSize
const double EQUALTAB[] = EQUALIZER_256;

///// FILTER

	//#define FILTER_256_REAL {0,-0.000000000017,-0.000000000464,-0.00000000147,-0.000000007749,-0.000000012344,-0.000000041928,-0.000000053242,-0.000000144594,-0.000000167006,-0.000000391528,-0.000000433769,-0.000000911354,-0.000000992264,-0.000001911094,-0.000002068397,-0.000003709792,-0.00000401238,-0.000006781579,-0.000007345915,-0.000011809841,-0.00001282119,-0.000019754316,-0.000021493627,-0.000031933244,-0.000034810595,-0.000050122859,-0.000054718507,-0.000076676828,-0.000083791021,-0.000114668504,-0.00012538133,-0.000168059183,-0.000183801932,-0.000241895995,-0.000264535668,-0.000342543539,-0.000374482431,-0.000477954029,-0.000522246599,-0.000657981509,-0.000718471191,-0.000894746737,-0.000976225846,-0.001203060655,-0.001311457212,-0.001600915966,-0.001743512105,-0.002110058462,-0.002295746103,-0.002756652276,-0.002996233055,-0.003572056434,-0.003878594439,-0.004593733998,-0.004982971798,-0.005866319854,-0.006357170588,-0.007442878976,-0.00805801005,-0.00938639396,-0.010152921127,-0.011771528894,-0.012721843276,-0.014686726481,-0.015859481472,-0.0182367069,-0.019677996811,-0.022545450417,-0.024310218253,-0.02775976142,-0.029913479186,-0.034053529572,-0.036674200836,-0.041632824307,-0.044813365166,-0.050741982015,-0.054593042607,-0.061670871134,-0.066324164704,-0.074763548782,-0.080375757931,-0.090428553515,-0.097185881847,-0.109151111834,-0.117274541128,-0.131507570685,-0.141258864829,-0.158182403703,-0.169870864566,-0.189988174373,-0.203978091521,-0.227888873789,-0.244607503418,-0.273027083745,-0.292972816084,-0.326755448359,-0.350505532846,-0.390672973766,-0.418889690781,-0.466666728304,-0.500100087444,-0.556959616958,-0.596443267927,-0.664165129791,-0.710599692739,-0.791350495079,-0.845663929718,-0.942110941006,-1.005176666578,-1.120660885794,-1.193136039484,-1.331955775576,-1.413961585967,-1.581879461245,-1.672348751695,-1.877593526743,-1.972851896693,-2.228343796131,-2.318695090665,-2.647715105635,-2.707577802418,-3.159514056686,-3.100829346479,-3.751205192618,-2.806971149208,-1.825844664685,18.057654149717,69.724971306532,18.048666164598,-1.82402737207,-2.80278084381,-3.743739018352,-3.093114604187,-3.150080472003,-2.698144988231,-2.637171089374,-2.308304529933,-2.217245187372,-1.962039236034,-1.866362670213,-1.661506723087,-1.570829067245,-1.403372292827,-1.321308573668,-1.182995101939,-1.110567765026,-0.995612648672,-0.932666673931,-0.836754057579,-0.782606890286,-0.702382509571,-0.656141788076,-0.588928737629,-0.549652577226,-0.493277580112,-0.460055312856,-0.412734223011,-0.38472512958,-0.344982583351,-0.321431852735,-0.288041989824,-0.26828424911,-0.240225274692,-0.223681452382,-0.200099818329,-0.186270631353,-0.166452232932,-0.154910198084,-0.138256892612,-0.128637957881,-0.114648245916,-0.106643659497,-0.09489669644,-0.088245443641,-0.078387759315,-0.072869723446,-0.064604167947,-0.060034066373,-0.053110599243,-0.04933268391,-0.043540696144,-0.040424172954,-0.035586086509,-0.033021189978,-0.028987122862,-0.026881775169,-0.023525095205,-0.021802077962,-0.019015697114,-0.017610267283,-0.01530355237,-0.014161439038,-0.012257634831,-0.011333359847,-0.009767437468,-0.009022909614,-0.007739767573,-0.007143106441,-0.006096063746,-0.005620615656,-0.004770146706,-0.004393660618,-0.003706330239,-0.003410266603,-0.002857830841,-0.002626780774,-0.002185425137,-0.002006621114,-0.001656313032,-0.001519215544,-0.001243152016,-0.001139099424,-0.000923234291,-0.000845145401,-0.000677783536,-0.00061990435,-0.000491352398,-0.000449040065,-0.000351305238,-0.000320843511,-0.000247373494,-0.000225815043,-0.000171273271,-0.00015630501,-0.000116376583,-0.000106204855,-0.00007742911,-0.000070682071,-0.000050308463,-0.000045953426,-0.000031817856,-0.000029091672,-0.000019510774,-0.000017861593,-0.000011542814,-0.000010581746,-0.00000654728,-0.000006008678,-0.00000353154,-0.000003240734,-0.000001791417,-0.000001638874,-0.000000841174,-0.000000762163,-0.000000356921,-0.000000315873,-0.00000013148,-0.000000110351,-0.000000039008,-0.000000029047,-0.000000007885,-0.000000004352,-0.000000000653,-0.000000000116,0}
	//#define FILTER_256_IMAG {0,-0.000000001414,-0.000000018921,-0.000000039915,-0.000000157735,-0.000000200921,-0.000000568402,-0.000000618272,-0.00000146809,-0.000001505942,-0.000003174428,-0.000003193792,-0.000006143846,-0.000006166909,-0.000011013907,-0.000011109343,-0.000018650384,-0.000018952994,-0.000030199745,-0.000030932192,-0.000047147526,-0.000048644406,-0.000071382926,-0.000074117329,-0.000105269798,-0.000109882439,-0.000151724059,-0.000159054977,-0.000214297379,-0.000225420154,-0.00029726692,-0.000313525281,-0.00040573076,-0.000428777448,-0.00054570862,-0.000577546319,-0.000724247462,-0.000767271634,-0.000949531574,-0.001006575044,-0.00123099682,-0.001305376,-0.001579448878,-0.001675011597,-0.002007185441,-0.002128360403,-0.002528122577,-0.002679970571,-0.003157925654,-0.003346192741,-0.00391414549,-0.004145318416,-0.004816360551,-0.005097724702,-0.005886326129,-0.006226026276,-0.007148131424,-0.007555235355,-0.008628365164,-0.009112929976,-0.01035628982,-0.010929430103,-0.012364023448,-0.013037979735,-0.014686726481,-0.015474931073,-0.017362788344,-0.018279923808,-0.02043400516,-0.02149604831,-0.023945734879,-0.025169975668,-0.027947009473,-0.029352029753,-0.032490574982,-0.034096166254,-0.03763281868,-0.039459810414,-0.043433527874,-0.045503488428,-0.049955406191,-0.052290166315,-0.057263249977,-0.059884183866,-0.065422658719,-0.068349639081,-0.074498118599,-0.077748039494,-0.084550256291,-0.08813498992,-0.095632010441,-0.099555630723,-0.10778341012,-0.112038475771,-0.121024582691,-0.125587224346,-0.135346538289,-0.14017003621,-0.150699195473,-0.155705663988,-0.166976025334,-0.172045733139,-0.183994604426,-0.18895234869,-0.20147228949,-0.206070092212,-0.218996175732,-0.222891354345,-0.235986505776,-0.238713826625,-0.251652817303,-0.25258883724,-0.264942476565,-0.2632590028,-0.27448212448,-0.269083192645,-0.278514689985,-0.267945403054,-0.274839993321,-0.257138443182,-0.260777176444,-0.233162659561,-0.233059758279,-0.190503645026,-0.184284893952,-0.103386869415,-0.044821970703,0.221611881216,0,-0.221501576506,0.044777358673,0.103232531328,0.183918104331,0.190029679398,0.232363895267,0.232350354171,0.259738681485,0.255986151697,0.273471110493,0.26647686772,0.276848749791,0.26733869547,0.27256469923,0.261287431026,0.262824616427,0.250441984293,0.249386331242,0.236442521104,0.233620840025,0.220542982376,0.216576494411,0.203687153251,0.199038435389,0.186571756561,0.181580684558,0.169698636417,0.164610423061,0.153417612462,0.148404858793,0.137961363427,0.133141432781,0.123473551166,0.118922228688,0.110031267406,0.105793447997,0.097662761098,0.093760756538,0.086361283373,0.082801225948,0.076095771831,0.072872503025,0.066818988625,0.063919749626,0.058473629192,0.055880810895,0.050996831348,0.048689992558,0.044323438097,0.042280759899,0.038388301458,0.036587611971,0.033127858375,0.031547334209,0.028481162403,0.027099790263,0.024390515479,0.023188378731,0.020801811722,0.01976025164,0.017664678867,0.016766368248,0.014932481779,0.014161439038,0.012562235759,0.011903800106,0.010514464139,0.009955246646,0.008753024566,0.008280845487,0.00724492063,0.006848739993,0.005960109736,0.005629955785,0.004871313953,0.004598212218,0.003953837568,0.003729742127,0.00318539307,0.003003120722,0.00254593597,0.002399103511,0.002017508082,0.001900472575,0.001584088509,0.001491890274,0.001231451411,0.001159759467,0.000947029741,0.000892089393,0.00071978422,0.000678366609,0.00054007708,0.000509430574,0.000399550295,0.000377353675,0.000291008246,0.000275325734,0.000208304921,0.000197543155,0.000146235924,0.000139103004,0.000100435617,0.000095902389,0.000067279779,0.000064543504,0.000043794168,0.000042244698,0.000027569298,0.000026757857,0.000016681685,0.000016292271,0.000009621681,0.000009445064,0.000005227884,0.000005138083,0.000002627966,0.000002561029,0.000001185597,0.00000112041,0.000000452973,0.000000393786,0.000000128338,0.00000008859,0.000000017721,0.000000004727,0}

#define FILTER_256_REAL {0, 0, 0.01, 0.03, 0.05, 0.03, 0.01, 0, 0}
#define FILTER_256_IMAG {0, 0, 0.01, 0.03, 0.05, 0.03, 0.01, 0, 0} 

static const uint16_t FILTERSIZE = 9;
static const uint32_t FILTERBLOCKSIZE = 20;
static const int FILTERSTATE = 29;

///// DEBUGING
const int PRIORITY = 6;
